<!DOCTYPE html>
<html>
<link rel="stylesheet" href="style.css">
<script src= "http://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js"></script>
<link href='https://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
<script>

var app = angular.module('myApp', []);
app.controller('Ctrl', function($scope, $http, $interval) {

    
    function load(){
        $http.get("http://www.rickvangemert.com/capture/yugioh")
        .success(function(response) {$scope.data = response.results;});
        
    }
    $scope.goesUp = function(watchvariable){
        
        $scope.$watch(watchvariable, function(oldvalue,newvalue) {
        alert('hey, myVar has changed!');
   });
    }
    $interval(load,2000);
});
</script>
<body>

<div ng-app="myApp" ng-controller="Ctrl">
    <div class="score" ng-repeat="x in data">
    {{x.name}} : <span ng-style="{'positive':goesUp(x.score)}">{{x.score}}</span>
    </div> 
</div>
</body>
</html>

